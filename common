#!/bin/bash
# note: not to be run directly, shebang just for shellcheck
# vim: filetype=sh

THISDIR="$(dirname "$(readlink -f "$0")")"
export THISDIR

# Paths
export BORG_OUT='/tmp/borg.latest'
export EXTRACT="${THISDIR}/borg-extract"
export BORG="borg"

# Variables
USER="$(whoami)"
export USER
HOSTNAME="$(uname -n)"
export HOSTNAME

# Colors
export HEADER_COLOR="\e[48;5;237m"
export COLOR_COLUMN="\e[1m-"
export COLOR_YELLOW="\e[93m"
export COLOR_GREEN="\e[92m"
export COLOR_BLUE="\e[36m"  # actually cyan
export COLOR_RED="\e[41m"

# Styles
export STYLE_BOLD="\e[1m"

# Backgrounds
export BACKGROUND_NICE_BLUE="\e[48;5;31m"

# Resets
export RESET_TEXT="\e[0m"

# Layout
export FIRST_COLUMN=20

# Functions

say_color() {
  echo -e "${1}${2}${RESET_TEXT}"
}

header() {
  say_color "${HEADER_COLOR}" "${1}"
}

reset_color() {
  echo -ne "${RESET_TEXT}"
}

has_delim() {
  if [[ "${1}" =~ [$2] ]] ; then
    return 0
  fi
  return 1
}

trim_whitespace() {
  echo -e "${1}" | tr -d [:space:]
}

# TODO
#split_by_line() {
  ## $1 - style for first
  ## $2 - delim
  ## $3 - width for first
  ## $4 - style for second
#}
